<button mat-icon-button class="close-button" [mat-dialog-close]="true">
  <mat-icon class="close-icon" color="warn">close</mat-icon>
</button>
<mat-dialog-content class="edit-container">

<form action="" [formGroup]="auxUser" style="padding-right: 12%">
  <div>
    <mat-label>Old image</mat-label><br>
    <img src="data:image/png;base64,{{user?.image}}" style="height: 250px">
  </div>

  <mat-form-field>
    <input type="file" name="fileUpload" accept="image/*" (change)="selectFile($event)" />
    <input matInput readonly />
    <mat-icon matSuffix>file</mat-icon>
  </mat-form-field>

  <label>
    <img [src]="url" height="200">
  </label>

  <mat-form-field appearance="fill">
    <mat-label>Email</mat-label>
    <input matInput required  readonly [value]="user?.email" formControlName="email">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>First name</mat-label>
    <input matInput required [value]="user?.firstname" formControlName="firstname">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Last name</mat-label>
    <input matInput required [value]="user?.lastname" formControlName="lastname">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Birth date</mat-label>
    <input type="date" matInput required [value]="user?.birthDate" formControlName="birthDate">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Employment date</mat-label>
    <input type="date" matInput required [value]="user?.employmentDate" formControlName="employmentDate">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Phone number</mat-label>
    <input matInput required [value]="user?.phoneNumber" formControlName="phoneNumber">
  </mat-form-field>



  <mat-form-field appearance="fill">
    <mat-label>Job position</mat-label>
    <mat-select  required value="user.job" formControlName="job">
      <mat-option *ngFor="let jobItem of jobList" [value]="jobItem.jobTitle">
        {{ jobItem.jobTitle }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Bio</mat-label>
    <input matInput required [value]="user?.bio" formControlName="bio">
  </mat-form-field>

  <div *ngIf="currentRole == requiredRole && currentUserId != user.id">
    <mat-form-field appearance="fill">
      <mat-label>Role</mat-label>
      <mat-select value="user.role" required formControlName="role">
        <mat-option *ngFor="let role of roles" [value]="role">
          {{ role }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div *ngIf="currentRole == requiredRole && currentUserId != user.id">
    <mat-form-field appearance="fill">
      <mat-label>Buddy</mat-label>
      <mat-select value="user.buddyId" required formControlName="buddyId">
        <mat-option *ngFor="let buddy of buddies" [value]="buddy.id">
          {{ buddy.firstname }} {{buddy.lastname}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>



  <div class="centralize" style="margin-top: 1%; padding-right: 13%">
    <button mat-raised-button color="primary" style="margin-right: 1%"
            type="button"
            (click)="update()"
            class="">
      Submit
    </button>
    <button mat-button mat-raised-button color="warn" style="margin-left: 1%"
            type="button"
            [mat-dialog-close]="true"
            class="">
      Cancel
    </button>
  </div>

</form>
</mat-dialog-content>
